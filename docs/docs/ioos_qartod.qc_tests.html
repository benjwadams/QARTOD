<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ioos_qartod.qc_tests package &mdash; QARTOD 1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="QARTOD 1.0 documentation" href="../index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ioos-qartod-qc-tests-package">
<h1>ioos_qartod.qc_tests package<a class="headerlink" href="#ioos-qartod-qc-tests-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ioos_qartod.qc_tests.auxillary_checks">
<span id="ioos-qartod-qc-tests-auxillary-checks-module"></span><h2>ioos_qartod.qc_tests.auxillary_checks module<a class="headerlink" href="#module-ioos_qartod.qc_tests.auxillary_checks" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ioos_qartod.qc_tests.auxillary_checks.check_timestamps">
<code class="descclassname">ioos_qartod.qc_tests.auxillary_checks.</code><code class="descname">check_timestamps</code><span class="sig-paren">(</span><em>times</em>, <em>max_time_interval=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ioos_qartod/qc_tests/auxillary_checks.html#check_timestamps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ioos_qartod.qc_tests.auxillary_checks.check_timestamps" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that the times supplied are in monotonically increasing
chronological order, and optionally that time intervals between
measurements do not exceed a value <cite>max_time_interval</cite>.  Note that this is
not a QARTOD test, but rather a utility test to make sure times are in the
proper order and optionally do not have large gaps prior to processing
the data.</p>
</dd></dl>

</div>
<div class="section" id="module-ioos_qartod.qc_tests.conf">
<span id="ioos-qartod-qc-tests-conf-module"></span><h2>ioos_qartod.qc_tests.conf module<a class="headerlink" href="#module-ioos_qartod.qc_tests.conf" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ioos_qartod.qc_tests.credentials">
<span id="ioos-qartod-qc-tests-credentials-module"></span><h2>ioos_qartod.qc_tests.credentials module<a class="headerlink" href="#module-ioos_qartod.qc_tests.credentials" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ioos_qartod.qc_tests.qc">
<span id="ioos-qartod-qc-tests-qc-module"></span><h2>ioos_qartod.qc_tests.qc module<a class="headerlink" href="#module-ioos_qartod.qc_tests.qc" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ioos_qartod.qc_tests.qc.QCFlags">
<em class="property">class </em><code class="descclassname">ioos_qartod.qc_tests.qc.</code><code class="descname">QCFlags</code><a class="reference internal" href="../_modules/ioos_qartod/qc_tests/qc.html#QCFlags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ioos_qartod.qc_tests.qc.QCFlags" title="Permalink to this definition">¶</a></dt>
<dd><p>Primary flags for QARTOD.</p>
<dl class="attribute">
<dt id="ioos_qartod.qc_tests.qc.QCFlags.BAD_DATA">
<code class="descname">BAD_DATA</code><em class="property"> = 4</em><a class="headerlink" href="#ioos_qartod.qc_tests.qc.QCFlags.BAD_DATA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ioos_qartod.qc_tests.qc.QCFlags.GOOD_DATA">
<code class="descname">GOOD_DATA</code><em class="property"> = 1</em><a class="headerlink" href="#ioos_qartod.qc_tests.qc.QCFlags.GOOD_DATA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ioos_qartod.qc_tests.qc.QCFlags.MISSING">
<code class="descname">MISSING</code><em class="property"> = 9</em><a class="headerlink" href="#ioos_qartod.qc_tests.qc.QCFlags.MISSING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ioos_qartod.qc_tests.qc.QCFlags.SUSPECT">
<code class="descname">SUSPECT</code><em class="property"> = 3</em><a class="headerlink" href="#ioos_qartod.qc_tests.qc.QCFlags.SUSPECT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ioos_qartod.qc_tests.qc.QCFlags.UNKNOWN">
<code class="descname">UNKNOWN</code><em class="property"> = 2</em><a class="headerlink" href="#ioos_qartod.qc_tests.qc.QCFlags.UNKNOWN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="ioos_qartod.qc_tests.qc.add_qartod_ident">
<code class="descclassname">ioos_qartod.qc_tests.qc.</code><code class="descname">add_qartod_ident</code><span class="sig-paren">(</span><em>qartod_id</em>, <em>qartod_test_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ioos_qartod/qc_tests/qc.html#add_qartod_ident"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ioos_qartod.qc_tests.qc.add_qartod_ident" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds attributes to the QARTOD functions corresponding to database fields.</p>
</dd></dl>

<dl class="function">
<dt id="ioos_qartod.qc_tests.qc.attenuated_signal_check">
<code class="descclassname">ioos_qartod.qc_tests.qc.</code><code class="descname">attenuated_signal_check</code><span class="sig-paren">(</span><em>arr</em>, <em>times</em>, <em>min_var_warn</em>, <em>min_var_fail</em>, <em>time_range=(None</em>, <em>None)</em>, <em>check_type='std'</em>, <em>prev_qc=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ioos_qartod/qc_tests/qc.html#attenuated_signal_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ioos_qartod.qc_tests.qc.attenuated_signal_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for near-flat-line conditions where the range of values (max-min) or
standard deviation are below minimum thresholds.</p>
</dd></dl>

<dl class="function">
<dt id="ioos_qartod.qc_tests.qc.climatology_check">
<code class="descclassname">ioos_qartod.qc_tests.qc.</code><code class="descname">climatology_check</code><span class="sig-paren">(</span><em>time_series</em>, <em>clim_table</em>, <em>group_function</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ioos_qartod/qc_tests/qc.html#climatology_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ioos_qartod.qc_tests.qc.climatology_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a pandas time series, a dict of 2-tuples with (low, high) thresholds
as values, and a grouping function to group the time series into bins which
correspond to the climatology lookup table.  Flags data within
the threshold as good data and data lying outside of it as bad.  Data for
which climatology values do not exist (i.e. no entry to look up in the
dict) will be flagged as Unknown/not evaluated.</p>
</dd></dl>

<dl class="function">
<dt id="ioos_qartod.qc_tests.qc.flat_line_check">
<code class="descclassname">ioos_qartod.qc_tests.qc.</code><code class="descname">flat_line_check</code><span class="sig-paren">(</span><em>arr</em>, <em>low_reps</em>, <em>high_reps</em>, <em>eps</em>, <em>prev_qc=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ioos_qartod/qc_tests/qc.html#flat_line_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ioos_qartod.qc_tests.qc.flat_line_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for repeated consecutively repeated values
within a tolerance eps.</p>
</dd></dl>

<dl class="function">
<dt id="ioos_qartod.qc_tests.qc.location_set_check">
<code class="descclassname">ioos_qartod.qc_tests.qc.</code><code class="descname">location_set_check</code><span class="sig-paren">(</span><em>lon, lat, bbox_arr=[[-180, -90], [180, 90]], range_max=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ioos_qartod/qc_tests/qc.html#location_set_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ioos_qartod.qc_tests.qc.location_set_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that longitude and latitude are within reasonable bounds
defaulting to lon = [-180, 180] and lat = [-90, 90].
Optionally, check for a maximum range parameter in great circle distance
defaulting to meters which can also use a unit from the quantities library.</p>
</dd></dl>

<dl class="function">
<dt id="ioos_qartod.qc_tests.qc.qc_compare">
<code class="descclassname">ioos_qartod.qc_tests.qc.</code><code class="descname">qc_compare</code><span class="sig-paren">(</span><em>vectors</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ioos_qartod/qc_tests/qc.html#qc_compare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ioos_qartod.qc_tests.qc.qc_compare" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array of flags that represent the aggregate of all the vectors.</p>
</dd></dl>

<dl class="function">
<dt id="ioos_qartod.qc_tests.qc.range_check">
<code class="descclassname">ioos_qartod.qc_tests.qc.</code><code class="descname">range_check</code><span class="sig-paren">(</span><em>arr</em>, <em>sensor_span</em>, <em>user_span=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ioos_qartod/qc_tests/qc.html#range_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ioos_qartod.qc_tests.qc.range_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a 2-tuple of sensor minimum/maximum values, flag data outside of
range as bad data.  Optionally also flag data which falls outside of a
user defined range.</p>
</dd></dl>

<dl class="function">
<dt id="ioos_qartod.qc_tests.qc.rate_of_change_check">
<code class="descclassname">ioos_qartod.qc_tests.qc.</code><code class="descname">rate_of_change_check</code><span class="sig-paren">(</span><em>times</em>, <em>arr</em>, <em>thresh_val</em>, <em>prev_qc=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ioos_qartod/qc_tests/qc.html#rate_of_change_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ioos_qartod.qc_tests.qc.rate_of_change_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the first order difference of a series of values to see if
there are any values exceeding a threshold.  These are then marked as
suspect.  It is up to the test operator to determine an appropriate
threshold value for the absolute difference not to exceed.  Threshold may
be expressed as a python quantities unit.  For example:
<code class="docutils literal"><span class="pre">import</span> <span class="pre">quantities</span> <span class="pre">as</span> <span class="pre">pq</span></code></p>
<blockquote>
<div># more code ...
# threshold of 2.5 per hour
threshold = 2.5 / pq.hour
# run the test with the new threshold
results = rate_of_change_check(times, arr, threshold, old_qc)``</div></blockquote>
<p>Defaults to a rate expressed in terms of seconds if not specified.</p>
</dd></dl>

<dl class="function">
<dt id="ioos_qartod.qc_tests.qc.set_prev_qc">
<code class="descclassname">ioos_qartod.qc_tests.qc.</code><code class="descname">set_prev_qc</code><span class="sig-paren">(</span><em>flag_arr</em>, <em>prev_qc</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ioos_qartod/qc_tests/qc.html#set_prev_qc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ioos_qartod.qc_tests.qc.set_prev_qc" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes previous QC flags and applies them to the start of the array
where the flag values are not unknown.</p>
</dd></dl>

<dl class="function">
<dt id="ioos_qartod.qc_tests.qc.spike_check">
<code class="descclassname">ioos_qartod.qc_tests.qc.</code><code class="descname">spike_check</code><span class="sig-paren">(</span><em>arr</em>, <em>low_thresh</em>, <em>high_thresh</em>, <em>prev_qc=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ioos_qartod/qc_tests/qc.html#spike_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ioos_qartod.qc_tests.qc.spike_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if there is a spike at data point n-1 by subtracting
the midpoint of n and n-2 and taking the absolute value of this
quantity, seeing if it exceeds a a low or high threshold.
Values which do not exceed either threshold are flagged good,
values which exceed the low threshold are flagged suspect,
and values which exceed the high threshold are flagged bad.
The flag is set at point n-1.</p>
</dd></dl>

<dl class="function">
<dt id="ioos_qartod.qc_tests.qc.time_series_flat_line_check">
<code class="descclassname">ioos_qartod.qc_tests.qc.</code><code class="descname">time_series_flat_line_check</code><span class="sig-paren">(</span><em>arr</em>, <em>low_reps=3</em>, <em>high_reps=5</em>, <em>eps=None</em>, <em>prev_qc=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ioos_qartod/qc_tests/qc.html#time_series_flat_line_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ioos_qartod.qc_tests.qc.time_series_flat_line_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for invariate observations and can be applied to all bulk wave
parameters.</p>
</dd></dl>

</div>
<div class="section" id="module-ioos_qartod.qc_tests.util">
<span id="ioos-qartod-qc-tests-util-module"></span><h2>ioos_qartod.qc_tests.util module<a class="headerlink" href="#module-ioos_qartod.qc_tests.util" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ioos_qartod.qc_tests.util.get_climatology">
<code class="descclassname">ioos_qartod.qc_tests.util.</code><code class="descname">get_climatology</code><span class="sig-paren">(</span><em>grouped_data</em>, <em>clim_table</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ioos_qartod/qc_tests/util.html#get_climatology"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ioos_qartod.qc_tests.util.get_climatology" title="Permalink to this definition">¶</a></dt>
<dd><p>A factory function which returns a lookup table for climatologies
based on grouped data.  Should take pandas groupby values for time keys
and compare them to the climatology indices</p>
</dd></dl>

</div>
<div class="section" id="module-ioos_qartod.qc_tests">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-ioos_qartod.qc_tests" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ioos_qartod.qc_tests package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-ioos_qartod.qc_tests.auxillary_checks">ioos_qartod.qc_tests.auxillary_checks module</a></li>
<li><a class="reference internal" href="#module-ioos_qartod.qc_tests.conf">ioos_qartod.qc_tests.conf module</a></li>
<li><a class="reference internal" href="#module-ioos_qartod.qc_tests.credentials">ioos_qartod.qc_tests.credentials module</a></li>
<li><a class="reference internal" href="#module-ioos_qartod.qc_tests.qc">ioos_qartod.qc_tests.qc module</a></li>
<li><a class="reference internal" href="#module-ioos_qartod.qc_tests.util">ioos_qartod.qc_tests.util module</a></li>
<li><a class="reference internal" href="#module-ioos_qartod.qc_tests">Module contents</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/docs/ioos_qartod.qc_tests.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Benjamin Adams, Luke Campbell.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="../_sources/docs/ioos_qartod.qc_tests.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>